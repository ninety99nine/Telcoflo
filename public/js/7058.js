"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7058],{85347:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(58222),l={class:"flex items-center"},s=["id","disabled"],a=["for"],r={key:1,class:"text-xs text-gray-400 ml-2"};var i=o(96486),c=o(11868),p=o(24788);const u={components:{InfoPopover:c.Z,DefaultError:p.Z},props:{modelValue:Boolean,label:String,info:String,note:String,size:{type:String,default:"xs"},disabled:{type:Boolean,default:!1},error:{type:String,default:""}},data:function(){return{uniqueId:(0,i.uniqueId)("input-"),localModelValue:this.modelValue}},watch:{modelValue:function(e,t){this.localModelValue=e},localModelValue:function(e,t){this.$emit("update:modelValue",e),this.$emit("onChange",e)}}};const d=(0,o(83744).Z)(u,[["render",function(e,t,o,i,c,p){var u=(0,n.resolveComponent)("InfoPopover"),d=(0,n.resolveComponent)("DefaultError");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("div",l,[(0,n.withDirectives)((0,n.createElementVNode)("input",{id:c.uniqueId,type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.localModelValue=e}),disabled:o.disabled,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,8,s),[[n.vModelCheckbox,c.localModelValue]]),o.label?((0,n.openBlock)(),(0,n.createElementBlock)("label",{key:0,for:c.uniqueId,class:(0,n.normalizeClass)("text-"+o.size+" font-medium text-gray-900 ml-2")},(0,n.toDisplayString)(o.label),11,a)):(0,n.createCommentVNode)("",!0),o.note?((0,n.openBlock)(),(0,n.createElementBlock)("span",r," â€” "+(0,n.toDisplayString)(o.note),1)):(0,n.createCommentVNode)("",!0),o.info?((0,n.openBlock)(),(0,n.createBlock)(u,{key:2,info:o.info,class:"ml-2"},null,8,["info"])):e.$slots.info?((0,n.openBlock)(),(0,n.createBlock)(u,{key:3,class:"ml-2"},{default:(0,n.withCtx)((function(){return[(0,n.renderSlot)(e.$slots,"info")]})),_:3})):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)(d,{error:o.error,class:"mt-2"},null,8,["error"])])}]])},88272:(e,t,o)=>{function n(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}o.d(t,{Z:()=>s});const s={data:function(){var e,t,o;return{selectedProject:null!==(e=this.route().params.project)&&void 0!==e?e:"any",selectedVersion:null!==(t=this.route().params.version)&&void 0!==t?t:"any",selectedApp:null!==(o=this.route().params.app)&&void 0!==o?o:"any",projectOptions:[],versionOptions:[],appOptions:[]}},methods:{setProjectOptions:function(){this.projectOptions=this.$page.props.projectOptions?[{label:"Any",value:"any"}].concat(n(this.$page.props.projectOptions.map((function(e){return{label:e.name,value:e.id}})))):[]},setAppOptions:function(){var e=this,t=[{label:"Any",value:"any"}];(this.$page.props.projectOptions||[]).length?"any"!==this.selectedProject&&this.$page.props.projectOptions.find((function(t){return t.id==e.selectedProject})).apps.forEach((function(e){t.push({label:e.name,value:e.id})})):(this.$page.props.appOptions||[]).length&&this.$page.props.appOptions.forEach((function(e){t.push({label:e.name,value:e.id})}));this.appOptions=t},setVersionOptions:function(){var e=this,t=[{label:"Any",value:"any"}];if((this.$page.props.projectOptions||[]).length){if("any"!==this.selectedProject){var o=this.$page.props.projectOptions.find((function(t){return t.id==e.selectedProject}));if(o.apps.length)if("any"!==this.selectedApp)o.apps.find((function(t){return t.id==e.selectedApp})).versions.forEach((function(e){t.push({label:e.number,value:e.id})}))}}else if((this.$page.props.appOptions||[]).length){if("any"!==this.selectedApp)this.$page.props.appOptions.find((function(t){return t.id==e.selectedApp})).versions.forEach((function(e){t.push({label:e.number,value:e.id})}))}else{if(!(this.$page.props.versionOptions||[]).length)return[];this.$page.props.versionOptions.forEach((function(e){t.push({label:e.number,value:e.id})}))}this.versionOptions=t},onSelectProjectOption:function(){this.selectedApp="any",this.selectedVersion="any",this.setAppOptions(),this.refreshContent()},onSelectAppOption:function(){this.selectedVersion="any",this.setVersionOptions(),this.refreshContent()}},created:function(){this.setProjectOptions(),this.setVersionOptions(),this.setAppOptions()}}},57058:(e,t,o)=>{o.r(t),o.d(t,{default:()=>x});var n=o(58222),l={class:"flex items-center justify-between mb-6"},s=(0,n.createElementVNode)("h1",{class:"text-xl font-semibold text-gray-700 mb-2"},"Accounts",-1),a={class:"flex divide-x border rounded-md py-2 px-6"},r={class:"text-center text-xs m-auto pr-6"},i=(0,n.createElementVNode)("p",{class:"mb-2 text-gray-400"},"Total Accounts",-1),c={class:"text-center text-xs m-auto px-6"},p=(0,n.createElementVNode)("p",{class:"mb-2 text-gray-400"},"Mobile",-1),u={class:"text-gray-300 font-semibold text-lg"},d={class:"text-center text-xs m-auto px-6"},h=(0,n.createElementVNode)("p",{class:"mb-2 text-gray-400"},"Simulator",-1),f={class:"text-gray-300 font-semibold text-lg"},m={class:"flex items-end justify-between mb-6"},g={class:"flex justify-center bg-blue-50 p-2"};var v=o(6154),y=o(88272),b=o(53233),V=o(85347),C=o(49510);const A={mixins:[y.Z],props:["hideDuplicateCells"],components:{DefaultSelect:b.Z,DefaultSearchBar:C.Z,DefaultCheckbox:V.Z},data:function(){return{localHideDuplicateCells:this.hideDuplicateCells,totalAccounts:this.$page.props.statistics.totalAccounts,totalMobileAccounts:this.$page.props.statistics.totalMobileAccounts,totalSimulatorAccounts:this.$page.props.statistics.totalSimulatorAccounts,origin:"any",originOptions:[{label:"Any",value:"any"},{label:"Mobile",value:"mobile"},{label:"Simulator",value:"simulator"}],search:null,request:null,refreshContentInterval:null}},watch:{hideDuplicateCells:function(e,t){this.localHideDuplicateCells=e},localHideDuplicateCells:function(e,t){this.$emit("update:hideDuplicateCells",e)}},methods:{updateHideDuplicateCells:function(e){this.localHideDuplicateCells=e},refreshContent:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(0!=t||!this.request){1==t&&(this.request&&this.request.cancel(),this.$emit("isLoading",!0));var o=v.Z.CancelToken.source();this.request={cancel:o.cancel};var n,l,s={cancelToken:o.token};if("any"!==this.selectedProject&&"any"!==this.selectedApp&&"any"!==this.selectedVersion)n=route("version.accounts.show",{project:this.selectedProject,version:this.selectedVersion,app:this.selectedApp,page:null!==(l=this.route().params.page)&&void 0!==l?l:1,requestType:this.requestType,origin:this.origin,status:this.status,search:this.search});else if("any"!==this.selectedProject&&"any"!==this.selectedApp){var a;n=route("app.accounts.show",{project:this.selectedProject,app:this.selectedApp,page:null!==(a=this.route().params.page)&&void 0!==a?a:1,requestType:this.requestType,origin:this.origin,status:this.status,search:this.search})}else if("any"!==this.selectedProject){var r;n=route("project.accounts.show",{project:this.selectedProject,page:null!==(r=this.route().params.page)&&void 0!==r?r:1,requestType:this.requestType,origin:this.origin,status:this.status,search:this.search})}else{var i;n=route("accounts.show",{page:null!==(i=this.route().params.page)&&void 0!==i?i:1,requestType:this.requestType,origin:this.origin,status:this.status,search:this.search})}v.Z.get(n,s).then((function(t){var o=t.data.statistics;e.totalAccounts=o.totalAccounts,e.totalMobileAccounts=o.totalMobileAccounts,e.totalSimulatorAccounts=o.totalSimulatorAccounts,e.$emit("response",t.data),e.$emit("isLoading",!1),e.request=null}))}},cleanUp:function(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created:function(){this.refreshContentInterval=setInterval(function(){this.refreshContent(!1)}.bind(this),3e3)},unmounted:function(){this.cleanUp()}};const x=(0,o(83744).Z)(A,[["render",function(e,t,o,v,y,b){var V=(0,n.resolveComponent)("DefaultSelect"),C=(0,n.resolveComponent)("DefaultSearchBar"),A=(0,n.resolveComponent)("DefaultCheckbox");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("div",l,[s,(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("div",r,[i,(0,n.createElementVNode)("p",{class:(0,n.normalizeClass)([(0==y.totalAccounts?"text-gray-300":"text-blue-500")+" font-semibold text-lg"])},(0,n.toDisplayString)(y.totalAccounts),3)]),(0,n.createElementVNode)("div",c,[p,(0,n.createElementVNode)("p",u,(0,n.toDisplayString)(y.totalMobileAccounts),1)]),(0,n.createElementVNode)("div",d,[h,(0,n.createElementVNode)("p",f,(0,n.toDisplayString)(y.totalSimulatorAccounts),1)])])]),(0,n.createElementVNode)("div",m,[e.projectOptions.length>=2?((0,n.openBlock)(),(0,n.createBlock)(V,{key:0,modelValue:e.selectedProject,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedProject=t}),options:e.projectOptions,onChange:t[1]||(t[1]=function(t){return e.onSelectProjectOption()}),label:"Project",placeholder:"Select project",class:"w-40"},null,8,["modelValue","options"])):(0,n.createCommentVNode)("",!0),e.appOptions.length>=2?((0,n.openBlock)(),(0,n.createBlock)(V,{key:1,modelValue:e.selectedApp,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedApp=t}),options:e.appOptions,onChange:t[3]||(t[3]=function(t){return e.onSelectAppOption()}),label:"App",placeholder:"Select app",class:"w-40"},null,8,["modelValue","options"])):(0,n.createCommentVNode)("",!0),e.versionOptions.length>=2?((0,n.openBlock)(),(0,n.createBlock)(V,{key:2,modelValue:e.selectedVersion,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedVersion=t}),options:e.versionOptions,onChange:t[5]||(t[5]=function(e){return b.refreshContent()}),label:"Version",placeholder:"Select version",class:"w-40"},null,8,["modelValue","options"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(V,{modelValue:y.origin,"onUpdate:modelValue":t[6]||(t[6]=function(e){return y.origin=e}),options:y.originOptions,onChange:t[7]||(t[7]=function(e){return b.refreshContent()}),label:"Filter by origin",placeholder:"Select origin",class:"w-60"},null,8,["modelValue","options"]),(0,n.createVNode)(C,{modelValue:y.search,"onUpdate:modelValue":t[8]||(t[8]=function(e){return y.search=e}),onOnSearch:t[9]||(t[9]=function(e){return b.refreshContent()}),placeholder:"Search sessions"},null,8,["modelValue"])]),(0,n.createElementVNode)("div",g,[(0,n.createVNode)(A,{modelValue:y.localHideDuplicateCells,"onUpdate:modelValue":t[10]||(t[10]=function(e){return y.localHideDuplicateCells=e}),onOnChange:b.updateHideDuplicateCells,label:"Remove Duplicates"},null,8,["modelValue","onOnChange"])])])}]])}}]);