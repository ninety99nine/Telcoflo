"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9010],{85347:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(58222),l={class:"flex items-center"},a=["id","disabled"],s=["for"],r={key:1,class:"text-xs text-gray-400 ml-2"};var i=o(96486),c=o(11868),p=o(24788);const u={components:{InfoPopover:c.Z,DefaultError:p.Z},props:{modelValue:Boolean,label:String,info:String,note:String,size:{type:String,default:"xs"},disabled:{type:Boolean,default:!1},error:{type:String,default:""}},data:function(){return{uniqueId:(0,i.uniqueId)("input-"),localModelValue:this.modelValue}},watch:{modelValue:function(e,t){this.localModelValue=e},localModelValue:function(e,t){this.$emit("update:modelValue",e),this.$emit("onChange",e)}}};const d=(0,o(83744).Z)(u,[["render",function(e,t,o,i,c,p){var u=(0,n.resolveComponent)("InfoPopover"),d=(0,n.resolveComponent)("DefaultError");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("div",l,[(0,n.withDirectives)((0,n.createElementVNode)("input",{id:c.uniqueId,type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.localModelValue=e}),disabled:o.disabled,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,8,a),[[n.vModelCheckbox,c.localModelValue]]),o.label?((0,n.openBlock)(),(0,n.createElementBlock)("label",{key:0,for:c.uniqueId,class:(0,n.normalizeClass)("text-"+o.size+" font-medium text-gray-900 ml-2")},(0,n.toDisplayString)(o.label),11,s)):(0,n.createCommentVNode)("",!0),o.note?((0,n.openBlock)(),(0,n.createElementBlock)("span",r," â€” "+(0,n.toDisplayString)(o.note),1)):(0,n.createCommentVNode)("",!0),o.info?((0,n.openBlock)(),(0,n.createBlock)(u,{key:2,info:o.info,class:"ml-2"},null,8,["info"])):e.$slots.info?((0,n.openBlock)(),(0,n.createBlock)(u,{key:3,class:"ml-2"},{default:(0,n.withCtx)((function(){return[(0,n.renderSlot)(e.$slots,"info")]})),_:3})):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)(d,{error:o.error,class:"mt-2"},null,8,["error"])])}]])},88272:(e,t,o)=>{function n(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}o.d(t,{Z:()=>a});const a={data:function(){var e,t,o;return{selectedProject:null!==(e=this.route().params.project)&&void 0!==e?e:"any",selectedVersion:null!==(t=this.route().params.version)&&void 0!==t?t:"any",selectedApp:null!==(o=this.route().params.app)&&void 0!==o?o:"any",projectOptions:[],versionOptions:[],appOptions:[]}},methods:{setProjectOptions:function(){this.projectOptions=this.$page.props.projectOptions?[{label:"Any",value:"any"}].concat(n(this.$page.props.projectOptions.map((function(e){return{label:e.name,value:e.id}})))):[]},setAppOptions:function(){var e=this,t=[{label:"Any",value:"any"}];(this.$page.props.projectOptions||[]).length?"any"!==this.selectedProject&&this.$page.props.projectOptions.find((function(t){return t.id==e.selectedProject})).apps.forEach((function(e){t.push({label:e.name,value:e.id})})):(this.$page.props.appOptions||[]).length&&this.$page.props.appOptions.forEach((function(e){t.push({label:e.name,value:e.id})}));this.appOptions=t},setVersionOptions:function(){var e=this,t=[{label:"Any",value:"any"}];if((this.$page.props.projectOptions||[]).length){if("any"!==this.selectedProject){var o=this.$page.props.projectOptions.find((function(t){return t.id==e.selectedProject}));if(o.apps.length)if("any"!==this.selectedApp)o.apps.find((function(t){return t.id==e.selectedApp})).versions.forEach((function(e){t.push({label:e.number,value:e.id})}))}}else if((this.$page.props.appOptions||[]).length){if("any"!==this.selectedApp)this.$page.props.appOptions.find((function(t){return t.id==e.selectedApp})).versions.forEach((function(e){t.push({label:e.number,value:e.id})}))}else{if(!(this.$page.props.versionOptions||[]).length)return[];this.$page.props.versionOptions.forEach((function(e){t.push({label:e.number,value:e.id})}))}this.versionOptions=t},onSelectProjectOption:function(){this.selectedApp="any",this.selectedVersion="any",this.setAppOptions(),this.refreshContent()},onSelectAppOption:function(){this.selectedVersion="any",this.setVersionOptions(),this.refreshContent()}},created:function(){this.setProjectOptions(),this.setVersionOptions(),this.setAppOptions()}}},39010:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var n=o(58222),l={class:"flex items-center justify-between mb-6"},a=(0,n.createElementVNode)("h1",{class:"text-xl font-semibold text-gray-700 mb-2"},"Global Variables",-1),s={class:"flex divide-x border rounded-md py-2 px-6"},r={class:"text-center text-xs m-auto"},i=(0,n.createElementVNode)("p",{class:"mb-2 text-gray-400"},"Total",-1),c={class:"flex items-end justify-between mb-6"},p={class:"flex justify-center bg-blue-50 p-2 space-x-8"};var u=o(6154),d=o(88272),h=o(53233),f=o(85347),m=o(49510);const v={props:["prettifyJson","hideDuplicateCells"],mixins:[d.Z],components:{DefaultSelect:h.Z,DefaultCheckbox:f.Z,DefaultSearchBar:m.Z},data:function(){return{localPrettifyJson:this.prettifyJson,localHideDuplicateCells:this.hideDuplicateCells,totalGlobalVariables:this.$page.props.statistics.totalGlobalVariables,search:null,request:null,refreshContentInterval:null}},watch:{prettifyJson:function(e,t){this.localPrettifyJson=e},localPrettifyJson:function(e,t){this.$emit("update:prettifyJson",e)},hideDuplicateCells:function(e,t){this.localHideDuplicateCells=e},localHideDuplicateCells:function(e,t){this.$emit("update:hideDuplicateCells",e)}},methods:{updatePrettifyJson:function(e){this.localPrettifyJson=e},updateHideDuplicateCells:function(e){this.localHideDuplicateCells=e},refreshContent:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(0!=t||!this.request){1==t&&(this.request&&this.request.cancel(),this.$emit("isLoading",!0));var o=u.Z.CancelToken.source();this.request={cancel:o.cancel};var n,l,a={cancelToken:o.token};if("any"!==this.selectedProject&&"any"!==this.selectedApp&&"any"!==this.selectedVersion&&this.route().params.account)n=route("version.account.show",{account:this.route().params.account,project:this.selectedProject,version:this.selectedVersion,app:this.selectedApp,page:null!==(l=this.route().params.page)&&void 0!==l?l:1,search:this.search});else if("any"!==this.selectedProject&&"any"!==this.selectedApp&&"any"!==this.selectedVersion){var s;n=route("version.global.variables.show",{project:this.selectedProject,version:this.selectedVersion,app:this.selectedApp,page:null!==(s=this.route().params.page)&&void 0!==s?s:1,search:this.search})}else if("any"!==this.selectedProject&&"any"!==this.selectedApp){var r;n=route("app.global.variables.show",{project:this.selectedProject,app:this.selectedApp,page:null!==(r=this.route().params.page)&&void 0!==r?r:1,search:this.search})}else if("any"!==this.selectedProject){var i;n=route("project.global.variables.show",{project:this.selectedProject,page:null!==(i=this.route().params.page)&&void 0!==i?i:1,search:this.search})}else{var c;n=route("global.variables.show",{page:null!==(c=this.route().params.page)&&void 0!==c?c:1,search:this.search})}u.Z.get(n,a).then((function(t){var o=t.data.statistics;e.totalGlobalVariables=o.totalGlobalVariables,e.$emit("response",t.data),e.$emit("isLoading",!1),e.request=null}))}},cleanUp:function(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created:function(){this.refreshContentInterval=setInterval(function(){this.refreshContent(!1)}.bind(this),3e3)},unmounted:function(){this.cleanUp()}};const b=(0,o(83744).Z)(v,[["render",function(e,t,o,u,d,h){var f=(0,n.resolveComponent)("DefaultSelect"),m=(0,n.resolveComponent)("DefaultSearchBar"),v=(0,n.resolveComponent)("DefaultCheckbox");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("div",l,[a,(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",r,[i,(0,n.createElementVNode)("p",{class:(0,n.normalizeClass)([(0==d.totalGlobalVariables?"text-gray-300":"text-blue-500")+" font-semibold text-lg"])},(0,n.toDisplayString)(d.totalGlobalVariables),3)])])])]),(0,n.createElementVNode)("div",c,[e.projectOptions.length>=2?((0,n.openBlock)(),(0,n.createBlock)(f,{key:0,modelValue:e.selectedProject,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedProject=t}),options:e.projectOptions,onChange:t[1]||(t[1]=function(t){return e.onSelectProjectOption()}),label:"Project",placeholder:"Select project",class:"w-40"},null,8,["modelValue","options"])):(0,n.createCommentVNode)("",!0),e.appOptions.length>=2?((0,n.openBlock)(),(0,n.createBlock)(f,{key:1,modelValue:e.selectedApp,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedApp=t}),options:e.appOptions,onChange:t[3]||(t[3]=function(t){return e.onSelectAppOption()}),label:"App",placeholder:"Select app",class:"w-40"},null,8,["modelValue","options"])):(0,n.createCommentVNode)("",!0),e.versionOptions.length>=2?((0,n.openBlock)(),(0,n.createBlock)(f,{key:2,modelValue:e.selectedVersion,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedVersion=t}),options:e.versionOptions,onChange:t[5]||(t[5]=function(e){return h.refreshContent()}),label:"Version",placeholder:"Select version",class:"w-40"},null,8,["modelValue","options"])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(m,{modelValue:d.search,"onUpdate:modelValue":t[6]||(t[6]=function(e){return d.search=e}),onOnSearch:t[7]||(t[7]=function(e){return h.refreshContent()}),placeholder:"Search global variables"},null,8,["modelValue"])]),(0,n.createElementVNode)("div",p,[(0,n.createVNode)(v,{modelValue:d.localHideDuplicateCells,"onUpdate:modelValue":t[8]||(t[8]=function(e){return d.localHideDuplicateCells=e}),onOnChange:h.updateHideDuplicateCells,label:"Remove Duplicates"},null,8,["modelValue","onOnChange"]),(0,n.createVNode)(v,{modelValue:d.localPrettifyJson,"onUpdate:modelValue":t[9]||(t[9]=function(e){return d.localPrettifyJson=e}),onOnChange:h.updatePrettifyJson,label:"Prettify Metadata"},null,8,["modelValue","onOnChange"])])])}]])}}]);