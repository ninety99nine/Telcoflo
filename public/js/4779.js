"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4779],{85347:(e,t,s)=>{s.d(t,{Z:()=>d});var o=s(58222),n={class:"flex items-center"},l=["id","disabled"],a=["for"],i={key:1,class:"text-xs text-gray-400 ml-2"};var r=s(96486),c=s(11868),p=s(24788);const u={components:{InfoPopover:c.Z,DefaultError:p.Z},props:{modelValue:Boolean,label:String,info:String,note:String,size:{type:String,default:"xs"},disabled:{type:Boolean,default:!1},error:{type:String,default:""}},data:function(){return{uniqueId:(0,r.uniqueId)("input-"),localModelValue:this.modelValue}},watch:{modelValue:function(e,t){this.localModelValue=e},localModelValue:function(e,t){this.$emit("update:modelValue",e),this.$emit("onChange",e)}}};const d=(0,s(83744).Z)(u,[["render",function(e,t,s,r,c,p){var u=(0,o.resolveComponent)("InfoPopover"),d=(0,o.resolveComponent)("DefaultError");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",n,[(0,o.withDirectives)((0,o.createElementVNode)("input",{id:c.uniqueId,type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.localModelValue=e}),disabled:s.disabled,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,8,l),[[o.vModelCheckbox,c.localModelValue]]),s.label?((0,o.openBlock)(),(0,o.createElementBlock)("label",{key:0,for:c.uniqueId,class:(0,o.normalizeClass)("text-"+s.size+" font-medium text-gray-900 ml-2")},(0,o.toDisplayString)(s.label),11,a)):(0,o.createCommentVNode)("",!0),s.note?((0,o.openBlock)(),(0,o.createElementBlock)("span",i," â€” "+(0,o.toDisplayString)(s.note),1)):(0,o.createCommentVNode)("",!0),s.info?((0,o.openBlock)(),(0,o.createBlock)(u,{key:2,info:s.info,class:"ml-2"},null,8,["info"])):e.$slots.info?((0,o.openBlock)(),(0,o.createBlock)(u,{key:3,class:"ml-2"},{default:(0,o.withCtx)((function(){return[(0,o.renderSlot)(e.$slots,"info")]})),_:3})):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)(d,{error:s.error,class:"mt-2"},null,8,["error"])])}]])},88272:(e,t,s)=>{function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,o=new Array(t);s<t;s++)o[s]=e[s];return o}s.d(t,{Z:()=>l});const l={data:function(){var e,t,s;return{selectedProject:null!==(e=this.route().params.project)&&void 0!==e?e:"any",selectedVersion:null!==(t=this.route().params.version)&&void 0!==t?t:"any",selectedApp:null!==(s=this.route().params.app)&&void 0!==s?s:"any",projectOptions:[],versionOptions:[],appOptions:[]}},methods:{setProjectOptions:function(){this.projectOptions=this.$page.props.projectOptions?[{label:"Any",value:"any"}].concat(o(this.$page.props.projectOptions.map((function(e){return{label:e.name,value:e.id}})))):[]},setAppOptions:function(){var e=this,t=[{label:"Any",value:"any"}];(this.$page.props.projectOptions||[]).length?"any"!==this.selectedProject&&this.$page.props.projectOptions.find((function(t){return t.id==e.selectedProject})).apps.forEach((function(e){t.push({label:e.name,value:e.id})})):(this.$page.props.appOptions||[]).length&&this.$page.props.appOptions.forEach((function(e){t.push({label:e.name,value:e.id})}));this.appOptions=t},setVersionOptions:function(){var e=this,t=[{label:"Any",value:"any"}];if((this.$page.props.projectOptions||[]).length){if("any"!==this.selectedProject){var s=this.$page.props.projectOptions.find((function(t){return t.id==e.selectedProject}));if(s.apps.length)if("any"!==this.selectedApp)s.apps.find((function(t){return t.id==e.selectedApp})).versions.forEach((function(e){t.push({label:e.number,value:e.id})}))}}else if((this.$page.props.appOptions||[]).length){if("any"!==this.selectedApp)this.$page.props.appOptions.find((function(t){return t.id==e.selectedApp})).versions.forEach((function(e){t.push({label:e.number,value:e.id})}))}else{if(!(this.$page.props.versionOptions||[]).length)return[];this.$page.props.versionOptions.forEach((function(e){t.push({label:e.number,value:e.id})}))}this.versionOptions=t},onSelectProjectOption:function(){this.selectedApp="any",this.selectedVersion="any",this.setAppOptions(),this.refreshContent()},onSelectAppOption:function(){this.selectedVersion="any",this.setVersionOptions(),this.refreshContent()}},created:function(){this.setProjectOptions(),this.setVersionOptions(),this.setAppOptions()}}},44779:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var o=s(58222),n={class:"flex items-center justify-between mb-6"},l=(0,o.createElementVNode)("h1",{class:"text-xl font-semibold text-gray-700 mb-2"},"Sessions",-1),a={class:"flex divide-x border rounded-md py-2 px-6"},i={class:"text-center text-xs m-auto pr-6"},r=(0,o.createElementVNode)("p",{class:"mb-2 text-gray-400"},"Total Sessions",-1),c={key:0,class:"text-center text-xs m-auto px-6"},p=(0,o.createElementVNode)("p",{class:"mb-2 text-gray-400"},"Mobile",-1),u={class:"text-gray-300 font-semibold text-lg"},d={key:1,class:"text-center text-xs m-auto px-6"},h=(0,o.createElementVNode)("p",{class:"mb-2 text-gray-400"},"Simulator",-1),m={class:"text-gray-300 font-semibold text-lg"},f={class:"text-center text-xs m-auto px-6"},g=(0,o.createElementVNode)("p",{class:"mb-2 text-gray-400"},"Fail",-1),y={class:"text-center text-xs m-auto pl-6"},v=(0,o.createElementVNode)("p",{class:"mb-2 text-gray-400"},"Success",-1),b={class:"flex items-end justify-between mb-6"},V={class:"flex justify-center bg-blue-50 p-2 space-x-8"};var S=s(6154),x=s(88272),C=s(53233),O=s(85347),k=s(49510);const j={props:["showingAccount","hideDuplicateCells"],mixins:[x.Z],components:{DefaultSelect:C.Z,DefaultCheckbox:O.Z,DefaultSearchBar:k.Z},data:function(){return{localHideDuplicateCells:this.hideDuplicateCells,totalSessions:this.$page.props.statistics.totalSessions,totalFailedSessions:this.$page.props.statistics.totalFailedSessions,totalSuccessfulSessions:this.$page.props.statistics.totalSuccessfulSessions,totalMobileSessions:this.$page.props.statistics.totalMobileSessions,totalSimulatorSessions:this.$page.props.statistics.totalSimulatorSessions,origin:"any",originOptions:[{label:"Any",value:"any"},{label:"Mobile",value:"mobile"},{label:"Simulator",value:"simulator"}],requestType:"any",requestTypeOptions:[{label:"Any",value:"any"},{label:"Started",value:"1"},{label:"Running",value:"2"},{label:"Ended",value:"3"},{label:"Timed Out",value:"4"}],status:"any",statusOptions:[{label:"Any",value:"any"},{label:"Success",value:"success"},{label:"Fail",value:"fail"}],search:null,request:null,refreshContentInterval:null}},watch:{hideDuplicateCells:function(e,t){this.localHideDuplicateCells=e},localHideDuplicateCells:function(e,t){this.$emit("update:hideDuplicateCells",e)}},methods:{updateHideDuplicateCells:function(e){this.localHideDuplicateCells=e},refreshContent:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(0!=t||!this.request){1==t&&(this.request&&this.request.cancel(),this.$emit("isLoading",!0));var s=S.Z.CancelToken.source();this.request={cancel:s.cancel};var o,n,l={cancelToken:s.token};if("any"!==this.selectedProject&&"any"!==this.selectedApp&&"any"!==this.selectedVersion&&this.route().params.account)o=route("version.account.show",{account:this.route().params.account,project:this.selectedProject,version:this.selectedVersion,app:this.selectedApp,page:null!==(n=this.route().params.page)&&void 0!==n?n:1,requestType:this.requestType,origin:this.origin,status:this.status,search:this.search});else if("any"!==this.selectedProject&&"any"!==this.selectedApp&&"any"!==this.selectedVersion){var a;o=route("version.sessions.show",{project:this.selectedProject,version:this.selectedVersion,app:this.selectedApp,page:null!==(a=this.route().params.page)&&void 0!==a?a:1,requestType:this.requestType,origin:this.origin,status:this.status,search:this.search})}else if("any"!==this.selectedProject&&"any"!==this.selectedApp){var i;o=route("app.sessions.show",{project:this.selectedProject,app:this.selectedApp,page:null!==(i=this.route().params.page)&&void 0!==i?i:1,requestType:this.requestType,origin:this.origin,status:this.status,search:this.search})}else if("any"!==this.selectedProject){var r;o=route("project.sessions.show",{project:this.selectedProject,page:null!==(r=this.route().params.page)&&void 0!==r?r:1,requestType:this.requestType,origin:this.origin,status:this.status,search:this.search})}else{var c;o=route("sessions.show",{page:null!==(c=this.route().params.page)&&void 0!==c?c:1,requestType:this.requestType,origin:this.origin,status:this.status,search:this.search})}S.Z.get(o,l).then((function(t){var s=t.data.statistics;e.totalSessions=s.totalSessions,e.totalFailedSessions=s.totalFailedSessions,e.totalSuccessfulSessions=s.totalSuccessfulSessions,e.totalMobileSessions=s.totalMobileSessions,e.totalSimulatorSessions=s.totalSimulatorSessions,e.$emit("response",t.data),e.$emit("isLoading",!1),e.request=null}))}},cleanUp:function(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created:function(){this.refreshContentInterval=setInterval(function(){this.refreshContent(!1)}.bind(this),3e3)},unmounted:function(){this.cleanUp()}};const A=(0,s(83744).Z)(j,[["render",function(e,t,s,S,x,C){var O=(0,o.resolveComponent)("DefaultSelect"),k=(0,o.resolveComponent)("DefaultSearchBar"),j=(0,o.resolveComponent)("DefaultCheckbox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("div",n,[l,(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",i,[r,(0,o.createElementVNode)("p",{class:(0,o.normalizeClass)([(0==x.totalSessions?"text-gray-300":"text-blue-500")+" font-semibold text-lg"])},(0,o.toDisplayString)(x.totalSessions),3)]),s.showingAccount?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",c,[p,(0,o.createElementVNode)("p",u,(0,o.toDisplayString)(x.totalMobileSessions),1)])),s.showingAccount?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",d,[h,(0,o.createElementVNode)("p",m,(0,o.toDisplayString)(x.totalSimulatorSessions),1)])),(0,o.createElementVNode)("div",f,[g,(0,o.createElementVNode)("p",{class:(0,o.normalizeClass)([(0==x.totalFailedSessions?"text-gray-300":"text-red-500")+" font-semibold text-lg"])},(0,o.toDisplayString)(x.totalFailedSessions),3)]),(0,o.createElementVNode)("div",y,[v,(0,o.createElementVNode)("p",{class:(0,o.normalizeClass)([(0==x.totalSuccessfulSessions?"text-gray-300":"text-green-500")+" font-semibold text-lg"])},(0,o.toDisplayString)(x.totalSuccessfulSessions),3)])])])]),(0,o.createElementVNode)("div",b,[e.projectOptions.length>=2?((0,o.openBlock)(),(0,o.createBlock)(O,{key:0,modelValue:e.selectedProject,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selectedProject=t}),options:e.projectOptions,onChange:t[1]||(t[1]=function(t){return e.onSelectProjectOption()}),label:"Project",placeholder:"Select project",class:"w-40"},null,8,["modelValue","options"])):(0,o.createCommentVNode)("",!0),e.appOptions.length>=2?((0,o.openBlock)(),(0,o.createBlock)(O,{key:1,modelValue:e.selectedApp,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedApp=t}),options:e.appOptions,onChange:t[3]||(t[3]=function(t){return e.onSelectAppOption()}),label:"App",placeholder:"Select app",class:"w-40"},null,8,["modelValue","options"])):(0,o.createCommentVNode)("",!0),e.versionOptions.length>=2?((0,o.openBlock)(),(0,o.createBlock)(O,{key:2,modelValue:e.selectedVersion,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedVersion=t}),options:e.versionOptions,onChange:t[5]||(t[5]=function(e){return C.refreshContent()}),label:"Version",placeholder:"Select version",class:"w-40"},null,8,["modelValue","options"])):(0,o.createCommentVNode)("",!0),s.showingAccount?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(O,{key:3,modelValue:x.origin,"onUpdate:modelValue":t[6]||(t[6]=function(e){return x.origin=e}),options:x.originOptions,onChange:t[7]||(t[7]=function(e){return C.refreshContent()}),label:"Origin",placeholder:"Select origin",class:"w-40"},null,8,["modelValue","options"])),(0,o.createVNode)(O,{modelValue:x.requestType,"onUpdate:modelValue":t[8]||(t[8]=function(e){return x.requestType=e}),options:x.requestTypeOptions,onChange:t[9]||(t[9]=function(e){return C.refreshContent()}),label:"Request",placeholder:"Select request",class:"w-40"},null,8,["modelValue","options"]),(0,o.createVNode)(O,{modelValue:x.status,"onUpdate:modelValue":t[10]||(t[10]=function(e){return x.status=e}),options:x.statusOptions,onChange:t[11]||(t[11]=function(e){return C.refreshContent()}),label:"Status",placeholder:"Select status",class:"w-40"},null,8,["modelValue","options"]),(0,o.createVNode)(k,{modelValue:x.search,"onUpdate:modelValue":t[12]||(t[12]=function(e){return x.search=e}),onOnSearch:t[13]||(t[13]=function(e){return C.refreshContent()}),placeholder:"Search sessions"},null,8,["modelValue"])]),(0,o.createElementVNode)("div",V,[(0,o.createVNode)(j,{modelValue:x.localHideDuplicateCells,"onUpdate:modelValue":t[14]||(t[14]=function(e){return x.localHideDuplicateCells=e}),onOnChange:C.updateHideDuplicateCells,label:"Remove Duplicates"},null,8,["modelValue","onOnChange"])])])}]])}}]);